<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="622px" height="474px" viewBox="-0.5 -0.5 622 474"><defs><clipPath id="mx-clip-475-54-142-40-0"><rect x="475" y="54" width="142" height="40"/></clipPath><clipPath id="mx-clip-4-31-432-444-0"><rect x="4" y="31" width="432" height="444"/></clipPath></defs><g><g><path d="M 471 49 L 471 23 L 621 23 L 621 49" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 471 49 L 471 89 L 621 89 L 621 49" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 471 49 L 621 49" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/></g><g><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="14px"><text x="545.5" y="42.5">ProtoMsgTag</text></g></g><g><rect x="471" y="49" width="150" height="40" fill="none" stroke="none" pointer-events="all"/></g><g><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-475-54-142-40-0)" font-size="12px"><text x="476.5" y="66.5">int64 proto_msg_t = 1;</text><text x="476.5" y="80.5">string proto_msg_id = 2;</text></g></g><g><path d="M 0 26 L 0 0 L 440 0 L 440 26" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 26 L 0 470 L 440 470 L 440 26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 26 L 440 26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/></g><g><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="14px"><text x="219.5" y="19.5">ProtoMsg</text></g></g><g><rect x="0" y="26" width="440" height="444" fill="#ffffff" stroke="none" pointer-events="all"/></g><g><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-4-31-432-444-0)" font-size="12px"><text x="5.5" y="43.5">ProtoMsgTag tag = 1;</text><text x="5.5" y="57.5">E2eeAddress from = 2;</text><text x="5.5" y="71.5">E2eeAddress to = 3;</text><text x="5.5" y="85.5">  oneof payload {</text><text x="5.5" y="99.5">      AcquireSyncMsg acquire_sync_msg = 11;</text><text x="5.5" y="127.5">      SupplyOpksMsg supply_opks_msg = 21;</text><text x="5.5" y="141.5">      InviteMsg invite_msg = 22;</text><text x="5.5" y="155.5">      AcceptMsg accept_msg = 23;</text><text x="5.5" y="169.5">      AddUserDeviceMsg add_user_device_msg = 24;</text><text x="5.5" y="183.5">      RemoveUserDeviceMsg remove_user_device_msg = 25;</text><text x="5.5" y="211.5">      CreateGroupMsg create_group_msg = 41;</text><text x="5.5" y="225.5">      AddGroupMembersMsg add_group_members_msg = 42;</text><text x="5.5" y="239.5">      RemoveGroupMembersMsg remove_group_members_msg = 43;</text><text x="5.5" y="253.5">      AddGroupMemberDeviceMsg add_group_member_device_msg = 44;</text><text x="5.5" y="267.5">      LeaveGroupMsg leave_group_msg = 45;</text><text x="5.5" y="295.5">      E2eeMsg e2ee_msg = 51;</text><text x="5.5" y="323.5">      UpdateUserMsg update_user_msg = 61;</text><text x="5.5" y="351.5">      FriendManagerMsg friend_manager_msg = 91;</text><text x="5.5" y="365.5">      GroupManagerMsg group_manager_msg = 92;</text><text x="5.5" y="379.5">      SystemManagerMsg system_manager_msg = 93;</text><text x="5.5" y="407.5">      ClientHeartbeatMsg client_heartbeat_msg = 101;</text><text x="5.5" y="421.5">      ServerHeartbeatMsg server_heartbeat_msg = 102;</text><text x="5.5" y="435.5">  };</text><text x="5.5" y="463.5">ServerSignedSignature signature = 1001;</text></g></g><g/><g><path d="M 150 40 L 235.97 40 L 464.63 39.51" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469.88 39.5 L 462.89 43.02 L 464.63 39.51 L 462.87 36.02 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g></svg>